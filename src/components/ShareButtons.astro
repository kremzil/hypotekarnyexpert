---
import Icon from './Icon.astro';
const {
  title,

  url: urlProp,
  text,
} = Astro.props;


const url = urlProp ?? new URL(Astro.url.pathname, Astro.site ?? Astro.url).toString();

const shareText = text ?? title;

const encUrl = encodeURIComponent(url);
const encText = encodeURIComponent(shareText);
const encTitle = encodeURIComponent(title);
const waText = encodeURIComponent(`${shareText} ${url}`);
---

<nav class="share-nav" aria-label="zdieľať">
  <a href={`https://www.facebook.com/sharer/sharer.php?u=${encUrl}`} target="_blank" rel="noopener noreferrer">
   <Icon name="facebook" />
  </a>

  <a href={`https://twitter.com/intent/tweet?url=${encUrl}&text=${encText}`} target="_blank" rel="noopener noreferrer">
  <Icon name="x" />
  </a>

  <a href={`https://www.linkedin.com/sharing/share-offsite/?url=${encUrl}`} target="_blank" rel="noopener noreferrer">
<Icon name="linkedin" />
  </a>

  <a href={`https://api.whatsapp.com/send?text=${waText}`} target="_blank" rel="noopener noreferrer">
    <Icon name="whatsapp" />
  </a>

  <a href={`mailto:?subject=${encTitle}&body=${waText}`}>
<Icon name="mail" />
  </a>
</nav>

